@page "/1000"
@inject HttpClient Http

<button @onclick="PopulateDOM">PopulateDOM</button>

<SdxDropdown Data="Objects" Context="obj">
    <Label>Testlabel</Label>
    <Placeholder>Dropdown Placeholder</Placeholder>
    <ItemTemplate>@obj.A</ItemTemplate>
</SdxDropdown>

@code
{
    private TestObject[] Objects = new TestObject[0];

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
        LoadData();
    }

    public class TestObject
    {
        public Guid Id { get; set; }

        public string A { get; set; }

        public string CreatedAt { get; set; }
    }

    private void PopulateDOM()
    {
        StateHasChanged();
    }

    private async void LoadData()
    {
        Objects = await Http.GetFromJsonAsync<TestObject[]>("sample-data/test-data-1000.json");
        // This is done so it is clear when Data is loaded and the Button can be pressed.
        Console.WriteLine("Data loaded.");
    }

}